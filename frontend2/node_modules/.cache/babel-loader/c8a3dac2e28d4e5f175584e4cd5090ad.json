{"ast":null,"code":"import _regeneratorRuntime from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{USER_LOGIN_FAIL,USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGOUT,USER_SIGNUP_FAIL,USER_SIGNUP_REQUEST,USER_SIGNUP_SUCCESS,USER_DONATE_REQUEST,USER_DONATE_SUCCESS,USER_DONATE_FAIL,USER_DONATIONS_LIST_REQUEST,USER_DONATIONS_LIST_SUCCESS,USER_DONATIONS_LIST_FAIL}from\"../constants/userConstants\";var URL='http://127.0.0.1:8000';export var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data,toStringifyData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json'}};_context.prev=1;dispatch({type:USER_LOGIN_REQUEST});_context.next=5;return axios.post(URL+'/api/user/login/',{'username':email,'password':password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;toStringifyData=JSON.stringify(data);if(data.is_user){dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',toStringifyData);}else{dispatch({type:USER_LOGIN_FAIL,payload:'You are registered as restaurant. Please login as a Restaurant'});window.alert('You are registered as restaurant. Please login as a Restaurant');}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:USER_LOGIN_FAIL,payload:'Invalid Credentials, please enter corrent email and password'});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logout=function logout(){return function(dispatch){dispatch({type:USER_LOGOUT});localStorage.removeItem('userInfo');};};export var loginRestaurant=function loginRestaurant(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;dispatch({type:USER_LOGIN_REQUEST});_context2.next=5;return axios.post(URL+'/api/user/login/',{'username':email,'password':password,config:config});case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;if(data.is_restaurant){dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));}else{dispatch({type:USER_LOGIN_FAIL,payload:'You are registered as user. Please login as a user'});}_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);dispatch({type:USER_LOGIN_FAIL,payload:'Invalid Credentials, please enter corrent email and password'});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var register=function register(email,first_name,last_name,password){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var config,_yield$axios$post3,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:config={headers:{'Content-Type':'application/json'}};_context3.prev=1;dispatch({type:USER_SIGNUP_REQUEST});_context3.next=5;return axios.post(URL+'/api/user/register/',{'email':email,'first_name':first_name,'last_name':last_name,'password':password,config:config});case 5:_yield$axios$post3=_context3.sent;data=_yield$axios$post3.data;dispatch({type:USER_SIGNUP_SUCCESS,payload:data});console.log('success');_context3.next=14;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](1);dispatch({type:USER_SIGNUP_FAIL,payload:_context3.t0.message});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[1,11]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var donateMeal=function donateMeal(restaurant_id,serving_id,quantity,type){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var token,config,_yield$axios$post4,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=getState().user.userInfo.token;_context4.prev=1;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};console.log(getState());dispatch({type:USER_DONATE_REQUEST});_context4.next=7;return axios.post(\"\".concat(URL,\"/api/user/donate-or-request/\"),{'restaurant_id':restaurant_id,'serving_id':serving_id,'quantity':quantity,'type':type},config);case 7:_yield$axios$post4=_context4.sent;data=_yield$axios$post4.data;dispatch({type:USER_DONATE_SUCCESS,payload:data});window.alert(\"You have successfully donated. We are very grateful\\n         of you ! You will be informed when your donation is accepted\");_context4.next=17;break;case 13:_context4.prev=13;_context4.t0=_context4[\"catch\"](1);dispatch({type:USER_DONATE_FAIL,payload:_context4.t0.message});window.alert(_context4.t0.message);case 17:case\"end\":return _context4.stop();}}},_callee4,null,[[1,13]]);}));return function(_x4,_x5){return _ref4.apply(this,arguments);};}();};export var userProfileUpdate=function userProfileUpdate(username,firstName,lastName){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var token,config,_yield$axios$post5,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:token=getState().user.userInfo.token;console.log(token);_context5.prev=2;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}};_context5.next=6;return axios.post(URL+'/api/user/update-details/',{username:username,firstName:firstName,lastName:lastName},config);case 6:_yield$axios$post5=_context5.sent;data=_yield$axios$post5.data;console.log(data);window.alert('User profile updated');dispatch({type:USER_LOGIN_SUCCESS,payload:data});_context5.next=16;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](2);window.alert(_context5.t0.message);case 16:case\"end\":return _context5.stop();}}},_callee5,null,[[2,13]]);}));return function(_x6,_x7){return _ref5.apply(this,arguments);};}();};export var myDonationOrRequestRequests=function myDonationOrRequestRequests(type){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch,getState){var token,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:token=getState().user.userInfo.token;_context6.prev=1;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},params:{'type':type}};dispatch({type:USER_DONATIONS_LIST_REQUEST});_context6.next=6;return axios.get(URL+'/api/user/my-donations-and-requests/',config);case 6:_yield$axios$get=_context6.sent;data=_yield$axios$get.data;console.log(data);dispatch({type:USER_DONATIONS_LIST_SUCCESS,payload:data});_context6.next=16;break;case 12:_context6.prev=12;_context6.t0=_context6[\"catch\"](1);dispatch({type:USER_DONATIONS_LIST_FAIL,payload:_context6.t0.message});window.alert(_context6.t0.message);case 16:case\"end\":return _context6.stop();}}},_callee6,null,[[1,12]]);}));return function(_x8,_x9){return _ref6.apply(this,arguments);};}();};","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/backend/frontend2/src/actions/userActions.js"],"names":["axios","USER_LOGIN_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGOUT","USER_SIGNUP_FAIL","USER_SIGNUP_REQUEST","USER_SIGNUP_SUCCESS","USER_DONATE_REQUEST","USER_DONATE_SUCCESS","USER_DONATE_FAIL","USER_DONATIONS_LIST_REQUEST","USER_DONATIONS_LIST_SUCCESS","USER_DONATIONS_LIST_FAIL","URL","login","email","password","dispatch","config","headers","type","post","data","toStringifyData","JSON","stringify","is_user","payload","localStorage","setItem","window","alert","logout","removeItem","loginRestaurant","is_restaurant","register","first_name","last_name","console","log","message","donateMeal","restaurant_id","serving_id","quantity","getState","token","user","userInfo","Authorization","userProfileUpdate","username","firstName","lastName","myDonationOrRequestRequests","params","get"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport {\r\n    USER_LOGIN_FAIL,\r\n    USER_LOGIN_REQUEST,\r\n    USER_LOGIN_SUCCESS,\r\n    USER_LOGOUT,\r\n    USER_SIGNUP_FAIL,\r\n    USER_SIGNUP_REQUEST,\r\n    USER_SIGNUP_SUCCESS,\r\n\r\n\r\n    USER_DONATE_REQUEST,\r\n    USER_DONATE_SUCCESS,\r\n    USER_DONATE_FAIL,\r\n\r\n    USER_DONATIONS_LIST_REQUEST,\r\n    USER_DONATIONS_LIST_SUCCESS,\r\n    USER_DONATIONS_LIST_FAIL\r\n\r\n} from \"../constants/userConstants\"\r\n\r\n\r\nconst URL = 'http://127.0.0.1:8000'\r\n\r\n\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n    }\r\n    try {\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST\r\n        })\r\n        const { data } = await axios.post(URL + '/api/user/login/', {\r\n            'username': email,\r\n            'password': password,\r\n\r\n        }, config)\r\n\r\n        const toStringifyData = JSON.stringify(data)\r\n\r\n        if (data.is_user) {\r\n            dispatch({\r\n                type: USER_LOGIN_SUCCESS,\r\n                payload: data\r\n            })\r\n            localStorage.setItem('userInfo', toStringifyData)\r\n        } else {\r\n            dispatch({\r\n                type: USER_LOGIN_FAIL,\r\n                payload: 'You are registered as restaurant. Please login as a Restaurant'\r\n            })\r\n            window.alert('You are registered as restaurant. Please login as a Restaurant')\r\n        }\r\n\r\n\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: USER_LOGIN_FAIL,\r\n            payload: 'Invalid Credentials, please enter corrent email and password'\r\n        })\r\n    }\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n    dispatch({\r\n        type: USER_LOGOUT\r\n    })\r\n    localStorage.removeItem('userInfo')\r\n}\r\n\r\nexport const loginRestaurant = (email, password) => async (dispatch) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n    }\r\n    try {\r\n        dispatch({\r\n            type: USER_LOGIN_REQUEST\r\n        })\r\n        const { data } = await axios.post(URL + '/api/user/login/', {\r\n            'username': email,\r\n            'password': password,\r\n            config\r\n        })\r\n        if (data.is_restaurant) {\r\n            dispatch({\r\n                type: USER_LOGIN_SUCCESS,\r\n                payload: data\r\n            })\r\n            localStorage.setItem('userInfo', JSON.stringify(data))\r\n        } else {\r\n            dispatch({\r\n                type: USER_LOGIN_FAIL,\r\n                payload: 'You are registered as user. Please login as a user'\r\n            })\r\n        }\r\n\r\n\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: USER_LOGIN_FAIL,\r\n            payload: 'Invalid Credentials, please enter corrent email and password'\r\n        })\r\n    }\r\n}\r\n\r\nexport const register = (email, first_name, last_name, password) => async (dispatch) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n    }\r\n    try {\r\n        dispatch({\r\n            type: USER_SIGNUP_REQUEST\r\n        })\r\n        const { data } = await axios.post(URL + '/api/user/register/', {\r\n            'email': email,\r\n            'first_name': first_name,\r\n            'last_name': last_name,\r\n            'password': password,\r\n            config\r\n        })\r\n        dispatch({\r\n            type: USER_SIGNUP_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        console.log('success')\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: USER_SIGNUP_FAIL,\r\n            payload: err.message\r\n        })\r\n    }\r\n}\r\n\r\nexport const donateMeal = (restaurant_id, serving_id, quantity, type) => async (dispatch, getState) => {\r\n    const token = getState().user.userInfo.token\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }\r\n        console.log(getState())\r\n        dispatch({\r\n            type: USER_DONATE_REQUEST\r\n        })\r\n\r\n        const { data } = await axios.post(`${URL}/api/user/donate-or-request/`, {\r\n            'restaurant_id': restaurant_id,\r\n            'serving_id': serving_id,\r\n            'quantity': quantity,\r\n            'type': type\r\n        }, config)\r\n\r\n        dispatch({\r\n            type: USER_DONATE_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n        window.alert(`You have successfully donated. We are very grateful\r\n         of you ! You will be informed when your donation is accepted`)\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: USER_DONATE_FAIL,\r\n            payload: err.message\r\n        })\r\n\r\n        window.alert(err.message)\r\n    }\r\n}\r\n\r\n\r\nexport const userProfileUpdate = (username, firstName, lastName) => async (dispatch, getState) => {\r\n    const token = getState().user.userInfo.token\r\n    console.log(token)\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(URL + '/api/user/update-details/', {\r\n            username,\r\n            firstName,\r\n            lastName\r\n        }, config)\r\n\r\n        console.log(data)\r\n        window.alert('User profile updated')\r\n        dispatch({\r\n            type: USER_LOGIN_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    }\r\n    catch (err) {\r\n        window.alert(err.message)\r\n    }\r\n}\r\n\r\nexport const myDonationOrRequestRequests = (type) => async (dispatch, getState) => {\r\n    const token = getState().user.userInfo.token\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            params: {\r\n                'type': type\r\n            }\r\n        }\r\n\r\n        dispatch({\r\n            type: USER_DONATIONS_LIST_REQUEST,\r\n        })\r\n        const { data } = await axios.get(URL + '/api/user/my-donations-and-requests/', config)\r\n        console.log(data)\r\n        dispatch({\r\n            type: USER_DONATIONS_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n    }\r\n    catch (err) {\r\n        dispatch({\r\n            type: USER_DONATIONS_LIST_FAIL,\r\n            payload: err.message\r\n        })\r\n        window.alert(err.message)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}