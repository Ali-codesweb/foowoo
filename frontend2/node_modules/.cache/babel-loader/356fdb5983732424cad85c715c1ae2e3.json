{"ast":null,"code":"var _jsxFileName = \"E:\\\\Full HTML\\\\Django-react\\\\foowoo\\\\frontend2\\\\src\\\\components\\\\MyServing.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Grid, makeStyles, TextareaAutosize, TextField, Switch, colors } from '@material-ui/core';\nimport React from 'react';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MyServing({\n  item\n}) {\n  _s();\n\n  const user = useSelector(state => state.user.userInfo);\n  const [enabled, setEnabled] = React.useState(true);\n  const [saveBtn, setSaveBtn] = React.useState(true);\n  const [name, setName] = React.useState(item.name);\n  const [description, setDescription] = React.useState(item.description);\n  const [ingredients, setIngredients] = React.useState(item.ingredients);\n  const [quantity, setQuantity] = React.useState(item.quantity);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${user.token}`\n    }\n  };\n  const [state, setState] = React.useState({\n    checkedA: item.is_vegan\n  });\n\n  const handleChange = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  const onEditClickHandler = () => {\n    setEnabled(!enabled);\n    setSaveBtn(!saveBtn);\n  };\n\n  const saveHandler = async () => {\n    setEnabled(!enabled);\n    setSaveBtn(!saveBtn);\n    const {\n      data\n    } = await axios.put('http://127.0.0.1:8000/api/restaurant/my-servings/update/', {\n      'serving_id': item.id,\n      'name': name,\n      'description': description,\n      'ingredients': ingredients,\n      'quantity': quantity,\n      'is_vegan': state.checkedA\n    }, config);\n  };\n\n  const deleteServingHandler = async () => {\n    const {\n      data\n    } = await axios.delete(`http://127.0.0.1:8000/api/restaurant/delete-serving/`, config);\n    console.log(data);\n  };\n\n  const useStyles = makeStyles(theme => ({\n    main: {\n      width: '13vw',\n      minWidth: '250px',\n      borderColor: theme.palette.primary.light,\n      borderRadius: '10px',\n      border: '3px solid',\n      marginTop: '30px',\n      backgroundColor: 'white',\n      marginRight: 'auto',\n      marginLeft: 'auto',\n      textAlign: 'center',\n      boxShadow: '0px 1px 5px grey',\n      paddingBottom: '20px',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    name: { ...theme.typography.content,\n      fontSize: '2rem',\n      width: '80%',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginTop: '20px'\n    },\n    image: {\n      height: '150px',\n      width: '14vw',\n      minWidth: '130px',\n      backgroundColor: 'grey',\n      marginRight: 'auto',\n      marginLeft: 'auto',\n      marginTop: '10px',\n      borderRadius: '5px'\n    },\n    description: { ...theme.typography.title,\n      marginTop: '20px',\n      width: '80%',\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    },\n    span: {\n      fontWeight: '900'\n    },\n    ing: { ...theme.typography.title,\n      width: '80%',\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      marginTop: '20px'\n    },\n    btn: { ...theme.buttonDef,\n      marginTop: '20px',\n      width: '40%',\n      marginLeft: 'auto',\n      right: '20px'\n    },\n    is_vegan: { ...theme.typography.title\n    },\n    quantity_tf: {\n      width: '20%'\n    }\n  }));\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 4,\n    direction: \"row\",\n    className: classes.main,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `http://127.0.0.1:8000${item.image}`,\n      alt: item.image,\n      className: classes.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      className: classes.name,\n      value: name,\n      disabled: enabled,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextareaAutosize, {\n      className: classes.description,\n      value: description,\n      disabled: enabled,\n      onChange: e => setDescription(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      className: classes.ing,\n      value: ingredients,\n      disabled: enabled,\n      onChange: e => setIngredients(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.is_vegan,\n        children: \"Is Vegan : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        checked: state.checkedA,\n        onChange: handleChange,\n        name: \"checkedA\",\n        color: \"primary\",\n        disabled: enabled,\n        inputProps: {\n          'aria-label': 'primary checkbox'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 65\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.is_vegan,\n        children: \" Quantity :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.quantity_tf,\n        value: quantity,\n        disabled: enabled,\n        onChange: e => {\n          setQuantity(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [saveBtn ? /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: onEditClickHandler,\n        className: classes.btn,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: saveHandler,\n        className: classes.btn,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 64\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"secondary\",\n        variant: \"contained\",\n        className: classes.btn,\n        onClick: deleteServingHandler,\n        children: \"Delete Meal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"secondary\",\n      variant: \"outlined\",\n      component: Link,\n      to: \"/\",\n      className: classes.btn,\n      children: \"Donators of this meal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MyServing, \"4WrgOffYLfO8UzyGIXCeWswVfL0=\", false, function () {\n  return [useSelector, useStyles];\n});\n\n_c = MyServing;\nexport default MyServing;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyServing\");","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/frontend2/src/components/MyServing.js"],"names":["Button","Grid","makeStyles","TextareaAutosize","TextField","Switch","colors","React","axios","useSelector","Link","MyServing","item","user","state","userInfo","enabled","setEnabled","useState","saveBtn","setSaveBtn","name","setName","description","setDescription","ingredients","setIngredients","quantity","setQuantity","config","headers","Authorization","token","setState","checkedA","is_vegan","handleChange","event","target","checked","onEditClickHandler","saveHandler","data","put","id","deleteServingHandler","delete","console","log","useStyles","theme","main","width","minWidth","borderColor","palette","primary","light","borderRadius","border","marginTop","backgroundColor","marginRight","marginLeft","textAlign","boxShadow","paddingBottom","display","flexDirection","typography","content","fontSize","image","height","title","span","fontWeight","ing","btn","buttonDef","right","quantity_tf","classes","e","value","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import { Button, Grid, makeStyles, TextareaAutosize, TextField, Switch, colors } from '@material-ui/core'\r\nimport React from 'react'\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction MyServing({ item }) {\r\n    const user = useSelector(state => state.user.userInfo)\r\n    const [enabled, setEnabled] = React.useState(true)\r\n    const [saveBtn, setSaveBtn] = React.useState(true)\r\n    const [name, setName] = React.useState(item.name)\r\n    const [description, setDescription] = React.useState(item.description)\r\n    const [ingredients, setIngredients] = React.useState(item.ingredients)\r\n    const [quantity, setQuantity] = React.useState(item.quantity)\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${user.token}`\r\n        }\r\n    }\r\n    const [state, setState] = React.useState({\r\n        checkedA: item.is_vegan,\r\n    });\r\n\r\n    const handleChange = (event) => {\r\n        setState({ ...state, [event.target.name]: event.target.checked });\r\n    };\r\n    const onEditClickHandler = () => {\r\n        setEnabled(!enabled)\r\n        setSaveBtn(!saveBtn)\r\n    }\r\n\r\n    const saveHandler = async () => {\r\n        setEnabled(!enabled)\r\n        setSaveBtn(!saveBtn)\r\n        const { data } = await axios.put('http://127.0.0.1:8000/api/restaurant/my-servings/update/', {\r\n            'serving_id': item.id,\r\n            'name': name,\r\n            'description': description,\r\n            'ingredients': ingredients,\r\n            'quantity': quantity,\r\n            'is_vegan': state.checkedA\r\n        }, config)\r\n    }\r\n\r\n    const deleteServingHandler = async () => {\r\n        const { data } = await axios.delete(`http://127.0.0.1:8000/api/restaurant/delete-serving/`, config)\r\n        console.log(data)\r\n    }\r\n\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        main: {\r\n            width: '13vw',\r\n            minWidth: '250px',\r\n            borderColor: theme.palette.primary.light,\r\n            borderRadius: '10px',\r\n            border: '3px solid',\r\n            marginTop: '30px',\r\n            backgroundColor: 'white',\r\n            marginRight: 'auto',\r\n            marginLeft: 'auto',\r\n            textAlign: 'center',\r\n            boxShadow: '0px 1px 5px grey',\r\n            paddingBottom: '20px',\r\n            display: 'flex',\r\n            flexDirection: 'column'\r\n        },\r\n        name: {\r\n            ...theme.typography.content,\r\n            fontSize: '2rem',\r\n            width: '80%',\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n            marginTop: '20px'\r\n        },\r\n        image: {\r\n            height: '150px',\r\n            width: '14vw',\r\n            minWidth: '130px',\r\n            backgroundColor: 'grey',\r\n            marginRight: 'auto',\r\n            marginLeft: 'auto',\r\n            marginTop: '10px',\r\n            borderRadius: '5px'\r\n        },\r\n        description: {\r\n            ...theme.typography.title,\r\n            marginTop: '20px',\r\n            width: '80%',\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n        span: {\r\n            fontWeight: '900'\r\n        },\r\n        ing: {\r\n            ...theme.typography.title,\r\n            width: '80%',\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n            marginTop: '20px'\r\n        },\r\n        btn: {\r\n            ...theme.buttonDef,\r\n            marginTop: '20px',\r\n            width: '40%',\r\n            marginLeft: 'auto',\r\n            right: '20px'\r\n        },\r\n        is_vegan: {\r\n            ...theme.typography.title\r\n        },\r\n        quantity_tf: {\r\n            width: '20%'\r\n        }\r\n    }))\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Grid item xs={12} sm={6} md={4} direction='row' className={classes.main} >\r\n            <img src={`http://127.0.0.1:8000${item.image}`}\r\n                alt={item.image} className={classes.image} ></img>\r\n            <TextField className={classes.name} value={name} disabled={enabled} onChange={(e) => setName(e.target.value)} />\r\n            <TextareaAutosize className={classes.description} value={description} disabled={enabled} onChange={(e) => setDescription(e.target.value)} />\r\n            <TextField className={classes.ing} value={ingredients} disabled={enabled} onChange={(e) => setIngredients(e.target.value)} />\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }} >\r\n                <p className={classes.is_vegan} >Is Vegan : </p><Switch\r\n                    checked={state.checkedA}\r\n                    onChange={handleChange}\r\n                    name=\"checkedA\"\r\n                    color='primary'\r\n                    disabled={enabled}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                />\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }} >\r\n                <p className={classes.is_vegan} > Quantity :</p>\r\n                <TextField className={classes.quantity_tf} value={quantity} disabled={enabled} onChange={(e) => {\r\n                    setQuantity(e.target.value)\r\n                }\r\n                }\r\n                />\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }} >\r\n                {saveBtn ? (<Button variant='outlined' color='primary' onClick={onEditClickHandler}\r\n                    className={classes.btn} >Edit</Button>) : (<Button variant='contained'\r\n                        color='secondary' onClick={saveHandler}\r\n                        className={classes.btn} >Save</Button>)}\r\n                <Button color='secondary' variant='contained'\r\n                    className={classes.btn} onClick={deleteServingHandler}  >Delete Meal</Button>\r\n            </div>\r\n            <Button color='secondary' variant='outlined' component={Link} to='/'\r\n                className={classes.btn} >Donators of this meal</Button>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default MyServing\r\n"]},"metadata":{},"sourceType":"module"}