{"ast":null,"code":"import _regeneratorRuntime from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{Button,Grid}from'@material-ui/core';import{makeStyles}from'@material-ui/styles';import axios from'axios';import React from'react';import{useSelector}from'react-redux';import CustomContainer from'../../components/CustomContainer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DonatorsList(props){var user=useSelector(function(state){return state.user.userInfo;});var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),donators=_React$useState2[0],setDonators=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),newdonators=_React$useState4[0],setnewDonators=_React$useState4[1];var config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(user.token)}};function donatorsListHandler(_x){return _donatorsListHandler.apply(this,arguments);}function _donatorsListHandler(){_donatorsListHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(command){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://foowoo1.herokuapp.com/api/restaurant/donators-list/',config);case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data);setDonators(data);case 6:case\"end\":return _context.stop();}}},_callee);}));return _donatorsListHandler.apply(this,arguments);}React.useEffect(function(){donatorsListHandler();},[]);var useStyles=makeStyles(function(theme){return{text:_objectSpread(_objectSpread({},theme.typography.title),{},{flex:'0.35',fontSize:'1.3rem'}),container:{width:'80%'},title:_objectSpread(_objectSpread({},theme.typography.content),{},{fontSize:'2.5rem',textAlign:'center'}),btnLeft:{poaition:'relative',marginRight:'auto',marginLeft:'20px'}};});var classes=useStyles();for(var i in donators){if((newdonators===null||newdonators===void 0?void 0:newdonators.length)>=1){for(var j in newdonators){var _newdonators$j,_donators$i;if(((_newdonators$j=newdonators[j])===null||_newdonators$j===void 0?void 0:_newdonators$j.username)==((_donators$i=donators[i])===null||_donators$i===void 0?void 0:_donators$i.username)){newdonators[j].quantity+=donators[i].quantity;}else{newdonators.push(donators[i]);}}}else{newdonators===null||newdonators===void 0?void 0:newdonators.push(donators[i]);}}// component={Link} to={`profile/${user?.id}`}\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:classes.title,children:\"All DONATORS\"}),/*#__PURE__*/_jsx(Button,{className:classes.btnLeft,variant:\"outlined\",color:\"primary\",onClick:function onClick(){return props.history.goBack();},children:\"GO BACK\"}),newdonators.length<=0?/*#__PURE__*/_jsx(\"h1\",{children:\"No donators\"}):newdonators===null||newdonators===void 0?void 0:newdonators.map(function(item){return/*#__PURE__*/_jsx(Grid,{container:true,xs:12,justify:\"center\",children:/*#__PURE__*/_jsx(CustomContainer,{style:{width:'79vw',paddingTop:'20px',paddingBottom:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',width:'80%',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:'0.3'},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"coffee\"]})}),/*#__PURE__*/_jsx(\"p\",{className:classes.text,children:item.username}),/*#__PURE__*/_jsx(\"p\",{className:classes.text,children:item.quantity})]})})});})]});}export default DonatorsList;","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/backend/frontend2/src/screens/restaurant/DonatorsList.js"],"names":["FontAwesomeIcon","Button","Grid","makeStyles","axios","React","useSelector","CustomContainer","DonatorsList","props","user","state","userInfo","useState","donators","setDonators","newdonators","setnewDonators","config","headers","Authorization","token","donatorsListHandler","command","get","data","console","log","useEffect","useStyles","theme","text","typography","title","flex","fontSize","container","width","content","textAlign","btnLeft","poaition","marginRight","marginLeft","classes","i","length","j","username","quantity","push","history","goBack","map","item","paddingTop","paddingBottom","display","alignItems"],"mappings":"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","sourcesContent":["import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Button, Grid } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CustomContainer from '../../components/CustomContainer';\r\n\r\nfunction DonatorsList(props) {\r\n    const user = useSelector(state => state.user.userInfo)\r\n    const [donators, setDonators] = React.useState([])\r\n    const [newdonators, setnewDonators] = React.useState([])\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${user.token}`\r\n        }\r\n    }\r\n    async function donatorsListHandler(command) {\r\n        const { data } = await axios.get('https://foowoo1.herokuapp.com/api/restaurant/donators-list/', config)\r\n        console.log(data)\r\n        setDonators(data)\r\n    }\r\n    React.useEffect(() => {\r\n        donatorsListHandler()\r\n    }, [])\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        text: {\r\n            ...theme.typography.title,\r\n            flex: '0.35',\r\n            fontSize: '1.3rem'\r\n        },\r\n        container: {\r\n            width: '80%'\r\n        },\r\n        title: {\r\n            ...theme.typography.content,\r\n            fontSize: '2.5rem',\r\n            textAlign: 'center'\r\n        },\r\n        btnLeft: {\r\n            poaition: 'relative',\r\n            marginRight: 'auto',\r\n            marginLeft: '20px'\r\n        }\r\n    }))\r\n\r\n\r\n    const classes = useStyles()\r\n\r\n    for (var i in donators) {\r\n        if (newdonators?.length >= 1) {\r\n            for (var j in newdonators) {\r\n                if (newdonators[j]?.username == donators[i]?.username) {\r\n                    newdonators[j].quantity += donators[i].quantity\r\n                } else {\r\n                    newdonators.push(donators[i])\r\n                }\r\n            }\r\n        } else {\r\n            newdonators?.push(donators[i])\r\n        }\r\n    }\r\n    // component={Link} to={`profile/${user?.id}`}\r\n    return (\r\n        <div>\r\n            <h1 className={classes.title} >All DONATORS</h1>\r\n            <Button className={classes.btnLeft} variant='outlined'\r\n                color='primary'  onClick={()=>props.history.goBack()} >GO BACK</Button>\r\n            {newdonators.length <= 0 ? (<h1>No donators</h1>) : newdonators?.map(item => {\r\n                return (\r\n                    <Grid container xs={12} justify='center' >\r\n                        <CustomContainer style={{\r\n                            width: '79vw',\r\n                            paddingTop: '20px',\r\n                            paddingBottom: '20px',\r\n                        }} >\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                width: '80%',\r\n                                alignItems: 'center'\r\n                            }} >\r\n                                <div style={{ flex: '0.3' }} >\r\n                                    <FontAwesomeIcon icon={[\"fas\", \"coffee\"]} />\r\n                                </div>\r\n                                <p className={classes.text} >{item.username}</p>\r\n                                <p className={classes.text} >{item.quantity}</p>\r\n                            </div>\r\n\r\n                        </CustomContainer>\r\n                    </Grid>\r\n                )\r\n\r\n            })}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DonatorsList\r\n"]},"metadata":{},"sourceType":"module"}