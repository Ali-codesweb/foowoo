{"ast":null,"code":"import _objectSpread from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,makeStyles}from'@material-ui/core';import React from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{userProfileUpdate}from'../../actions/userActions';import FormDiv from'../../components/FormDiv';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProfileScreen(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),username=_React$useState2[0],setUsername=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),firstName=_React$useState6[0],setFirstName=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),lastName=_React$useState8[0],setLastName=_React$useState8[1];var user=useSelector(function(state){return state.user.userInfo;});var dispatch=useDispatch();console.log(user);var usernameHandler=function usernameHandler(e){setUsername(e.target.value);};var nameHandler=function nameHandler(e){setName(e.target.value);};var firstNameHandler=function firstNameHandler(e){setFirstName(e.target.value);};var lastNameHandler=function lastNameHandler(e){setLastName(e.target.value);};var data=[{name:'Username',textFieldDisable:false,placeholder:user.username,value:username,onChange:usernameHandler},{name:'Name',textFieldDisable:false,placeholder:user.name,value:name,onChange:nameHandler},{name:'First Name',textFieldDisable:false,placeholder:user.first_name,value:firstName,onChange:firstNameHandler},{name:'Last Name',textFieldDisable:false,placeholder:user.last_name,value:lastName,onChange:lastNameHandler}];var updateProfile=function updateProfile(){console.log('user profile update');dispatch(userProfileUpdate(username,firstName,lastName));props.history.push('/');};var useStyles=makeStyles(function(theme){return{mainDiv:{display:'flex',flexDirection:'column',alignItems:'center'},heading:_objectSpread(_objectSpread({},theme.typography.content),{},{fontSize:'2.5rem',textAlign:'center'}),btnLeft:{position:'relative',marginRight:'auto',marginLeft:'20px'},btnser:_objectSpread(_objectSpread({},theme.buttonDef),{},{marginRight:'20px'})};});var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{className:classes.mainDiv,children:[/*#__PURE__*/_jsx(\"h1\",{className:classes.heading,children:\"This is the profile screen\"}),/*#__PURE__*/_jsx(Button,{className:classes.btnLeft,variant:\"outlined\",color:\"primary\",component:Link,to:\"/\",children:\"GO BACK\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"Logged in as \",user.name]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",component:Link,to:\"/restaurants\",className:classes.btnser,children:\"Donate\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",component:Link,to:\"/my-donations\",className:classes.btnser,children:\"My Donations\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",component:Link,to:\"/my-requests\",className:classes.btnser,children:\"My Requests\"})]}),/*#__PURE__*/_jsx(FormDiv,{data:data,actionTaken:updateProfile,actionName:\"Update Profile\",children:/*#__PURE__*/_jsx(Link,{to:\"/rest/password-change\",style:{marginTop:'20px',marginBottom:'20px'},children:\"Change Password\"})})]});}export default ProfileScreen;","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/backend/frontend2/src/screens/users/ProfileScreen.js"],"names":["Button","makeStyles","React","useDispatch","useSelector","Link","userProfileUpdate","FormDiv","ProfileScreen","props","useState","username","setUsername","name","setName","firstName","setFirstName","lastName","setLastName","user","state","userInfo","dispatch","console","log","usernameHandler","e","target","value","nameHandler","firstNameHandler","lastNameHandler","data","textFieldDisable","placeholder","onChange","first_name","last_name","updateProfile","history","push","useStyles","theme","mainDiv","display","flexDirection","alignItems","heading","typography","content","fontSize","textAlign","btnLeft","position","marginRight","marginLeft","btnser","buttonDef","classes","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import { Button, makeStyles } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { userProfileUpdate } from '../../actions/userActions'\r\nimport FormDiv from '../../components/FormDiv'\r\n\r\nfunction ProfileScreen(props) {\r\n    const [username, setUsername] = React.useState('')\r\n    const [name, setName] = React.useState('')\r\n    const [firstName, setFirstName] = React.useState('')\r\n    const [lastName, setLastName] = React.useState('')\r\n    const user = useSelector(state => state.user.userInfo)\r\n    const dispatch = useDispatch()\r\n    console.log(user)\r\n    const usernameHandler = (e) => {\r\n        setUsername(e.target.value)\r\n    }\r\n    const nameHandler = (e) => {\r\n        setName(e.target.value)\r\n    }\r\n    const firstNameHandler = (e) => {\r\n        setFirstName(e.target.value)\r\n    }\r\n    const lastNameHandler = (e) => {\r\n        setLastName(e.target.value)\r\n    }\r\n    const data = [\r\n        {\r\n            name: 'Username',\r\n            textFieldDisable: false,\r\n            placeholder: user.username,\r\n            value: username,\r\n            onChange: usernameHandler\r\n        },\r\n        {\r\n            name: 'Name',\r\n            textFieldDisable: false,\r\n            placeholder: user.name,\r\n            value: name,\r\n            onChange: nameHandler\r\n        },\r\n        {\r\n            name: 'First Name',\r\n            textFieldDisable: false,\r\n            placeholder: user.first_name,\r\n            value: firstName,\r\n            onChange: firstNameHandler\r\n        },\r\n        {\r\n            name: 'Last Name',\r\n            textFieldDisable: false,\r\n            placeholder: user.last_name,\r\n            value: lastName,\r\n            onChange: lastNameHandler\r\n        },\r\n\r\n    ]\r\n\r\n    const updateProfile = () => {\r\n        console.log('user profile update')\r\n        dispatch(userProfileUpdate(username, firstName, lastName))\r\n        props.history.push('/')\r\n    }\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        mainDiv: {\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center'\r\n        },\r\n        heading: {\r\n            ...theme.typography.content,\r\n            fontSize: '2.5rem',\r\n            textAlign: 'center'\r\n        },\r\n        btnLeft: {\r\n            position: 'relative',\r\n            marginRight: 'auto',\r\n            marginLeft: '20px'\r\n        },\r\n        btnser: {\r\n            ...theme.buttonDef,\r\n            marginRight: '20px'\r\n        },\r\n    }))\r\n    const classes = useStyles()\r\n    return (\r\n        <div className={classes.mainDiv} >\r\n            <h1 className={classes.heading} >This is the profile screen</h1>\r\n            <Button className={classes.btnLeft} variant='outlined'\r\n                color='primary' component={Link} to='/'  >GO BACK</Button>\r\n            <h1 >Logged in as {user.name}</h1>\r\n            <div style={{display:'flex'}} >\r\n            <Button color='secondary' variant='contained' component={Link} to='/restaurants'\r\n                className={classes.btnser} >Donate</Button>\r\n            <Button color='secondary' variant='contained' component={Link} to='/my-donations'\r\n                className={classes.btnser} >My Donations</Button>\r\n            <Button color='secondary' variant='contained' component={Link} to='/my-requests'\r\n                className={classes.btnser} >My Requests</Button>\r\n            </div>\r\n            <FormDiv\r\n                data={data}\r\n                actionTaken={updateProfile}\r\n                actionName='Update Profile'\r\n            >\r\n                <Link to='/rest/password-change' style={{ marginTop: '20px', marginBottom: '20px' }} >Change Password</Link>\r\n            </FormDiv>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileScreen\r\n"]},"metadata":{},"sourceType":"module"}