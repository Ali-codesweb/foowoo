{"ast":null,"code":"import _objectSpread from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,FormControl,Grid,InputLabel,MenuItem,Select}from'@material-ui/core';import{makeStyles}from'@material-ui/styles';import React from'react';import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import{Link}from'react-router-dom';import{donateMeal}from'../../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MealDetailsScreen(props){var dispatch=useDispatch();var restaurantServings=useSelector(function(state){return state.restaurantServings;});var user=useSelector(function(state){return state.user.userInfo;});console.log(user);var serving=restaurantServings.servings.find(function(item){return item.id==props.match.params.id;});var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),number=_React$useState2[0],setNumber=_React$useState2[1];var handleChange=function handleChange(event){setNumber(event.target.value);};var donateOrRequestServing=function donateOrRequestServing(type){dispatch(donateMeal(serving.restaurant,serving.id,number,type));props.history.push('/');};var dummyArray=function dummyArray(quantity){return/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",color:\"secondary\",children:\"Quantity\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:number,onChange:handleChange,children:Array(quantity).fill(null).map(function(item,index){if(index==0){return/*#__PURE__*/_jsx(MenuItem,{disabled:true,value:index,children:index});}else{return/*#__PURE__*/_jsx(MenuItem,{value:index,children:index});}})})]});};var useStyles=makeStyles(function(theme){return{dummyImage:{height:'45vh',width:'25vw',minWidth:'430px',minHeight:'25vh',marginRight:'auto',marginLeft:'50px',marginTop:'90px',borderRadius:'5px'},title:_objectSpread(_objectSpread({},theme.typography.content),{},{color:'#333333',textAlign:'center',fontSize:'3.5rem',marginBottom:'30px'}),infoDiv:{marginTop:'50px',marginBottom:'50px'},info:_objectSpread(_objectSpread({},theme.typography.title),{},{fontSize:'2rem',textAlign:'center',marginBottom:'30px',lineHeight:'52px'}),btn:_objectSpread(_objectSpread({},theme.buttonDef),{},{top:'10px',marginLeft:'40px'}),btnDiv:{display:'flex',justifyContent:'space-between',paddingLeft:'50px',paddingRight:'50px'},formControl:{minWidth:120,left:'30px',bottom:'5px'}};});var classes=useStyles();return/*#__PURE__*/_jsxs(Grid,{container:true,xs:12,children:[/*#__PURE__*/_jsx(Grid,{item:true,direction:\"column\",xs:12,md:5,children:/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000\".concat(serving===null||serving===void 0?void 0:serving.image),alt:\"image2\",className:classes.dummyImage})}),/*#__PURE__*/_jsx(Grid,{item:true,direction:\"coulmn\",xs:12,md:6,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.infoDiv,children:[/*#__PURE__*/_jsx(\"h1\",{className:classes.title,children:serving===null||serving===void 0?void 0:serving.name}),/*#__PURE__*/_jsx(\"p\",{className:classes.info,children:serving===null||serving===void 0?void 0:serving.description}),/*#__PURE__*/_jsxs(\"p\",{className:classes.info,children:[\"Ingredients : \",serving===null||serving===void 0?void 0:serving.ingredients]}),user.is_user?/*#__PURE__*/_jsxs(\"div\",{className:classes.btnDiv,children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:' 0.5px solid lightgrey',padding:'10px',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"p\",{className:classes.info,children:\"Donate : \"}),dummyArray(10),/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",onClick:function onClick(){return donateOrRequestServing('Donation');},className:classes.btn,children:\"Donate\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:' 0.5px solid lightgrey',padding:'10px',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"p\",{className:classes.info,children:\"Request : \"}),dummyArray(4),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return donateOrRequestServing('Request');},className:classes.btn,variant:\"contained\",children:\"Request a Meal\"})]})]}):null]})})]});}export default MealDetailsScreen;","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/backend/frontend2/src/screens/users/MealDetailsScreen.js"],"names":["Button","FormControl","Grid","InputLabel","MenuItem","Select","makeStyles","React","useSelector","useDispatch","Link","donateMeal","MealDetailsScreen","props","dispatch","restaurantServings","state","user","userInfo","console","log","serving","servings","find","item","id","match","params","useState","number","setNumber","handleChange","event","target","value","donateOrRequestServing","type","restaurant","history","push","dummyArray","quantity","classes","formControl","Array","fill","map","index","useStyles","theme","dummyImage","height","width","minWidth","minHeight","marginRight","marginLeft","marginTop","borderRadius","title","typography","content","color","textAlign","fontSize","marginBottom","infoDiv","info","lineHeight","btn","buttonDef","top","btnDiv","display","justifyContent","paddingLeft","paddingRight","left","bottom","image","name","description","ingredients","is_user","border","padding"],"mappings":"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","sourcesContent":["import {\r\n    Button,\r\n    FormControl,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { donateMeal } from '../../actions/userActions';\r\n\r\nfunction MealDetailsScreen(props) {\r\n    const dispatch = useDispatch()\r\n    const restaurantServings = useSelector(state => state.restaurantServings)\r\n    const user = useSelector(state => state.user.userInfo)\r\n    console.log(user)\r\n    const serving = restaurantServings.servings.find(item => item.id == props.match.params.id)\r\n    const [number, setNumber] = React.useState(0);\r\n    const handleChange = (event) => {\r\n        setNumber(event.target.value);\r\n    };\r\n\r\n    const donateOrRequestServing = (type) => {\r\n        dispatch(donateMeal(serving.restaurant, serving.id, number, type))\r\n        props.history.push('/')\r\n    }\r\n    const dummyArray = (quantity) => {\r\n        return (<FormControl className={classes.formControl}>\r\n            <InputLabel id=\"demo-simple-select-label\" color='secondary' >Quantity</InputLabel>\r\n            <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"demo-simple-select\"\r\n                value={number}\r\n                onChange={handleChange}\r\n            >\r\n                {Array(quantity).fill(null).map((item, index) => {\r\n                    if (index == 0) {\r\n                        return (\r\n                            (\r\n                                <MenuItem disabled value={index}>{index}</MenuItem>\r\n                            )\r\n                        )\r\n                    } else {\r\n                        return (\r\n                            (\r\n                                <MenuItem value={index}>{index}</MenuItem>\r\n                            )\r\n                        )\r\n                    }\r\n                })}\r\n\r\n            </Select>\r\n        </FormControl>)\r\n\r\n    }\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        dummyImage: {\r\n            height: '45vh',\r\n            width: '25vw',\r\n            minWidth: '430px',\r\n            minHeight: '25vh',\r\n            marginRight: 'auto',\r\n            marginLeft: '50px',\r\n            marginTop: '90px',\r\n            borderRadius: '5px'\r\n        },\r\n        title: {\r\n            ...theme.typography.content,\r\n            color: '#333333',\r\n            textAlign: 'center',\r\n            fontSize: '3.5rem',\r\n            marginBottom: '30px'\r\n        },\r\n        infoDiv: {\r\n            marginTop: '50px',\r\n            marginBottom: '50px'\r\n        },\r\n        info: {\r\n            ...theme.typography.title,\r\n            fontSize: '2rem',\r\n            textAlign: 'center',\r\n            marginBottom: '30px',\r\n            lineHeight: '52px',\r\n\r\n        },\r\n        btn: {\r\n            ...theme.buttonDef,\r\n            top: '10px',\r\n            marginLeft: '40px'\r\n        },\r\n        btnDiv: {\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            paddingLeft: '50px',\r\n            paddingRight: '50px',\r\n        },\r\n        formControl: {\r\n            minWidth: 120,\r\n            left: '30px',\r\n            bottom: '5px'\r\n        }\r\n    }))\r\n\r\n\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Grid container xs={12}>\r\n            <Grid item direction='column' xs={12} md={5} >\r\n                <img src={`http://127.0.0.1:8000${serving?.image}`} alt='image2' className={classes.dummyImage} >\r\n                </img>\r\n            </Grid>\r\n            <Grid item direction='coulmn' xs={12} md={6} >\r\n                <div className={classes.infoDiv} >\r\n                    <h1 className={classes.title} >{serving?.name}</h1>\r\n                    <p className={classes.info} >{serving?.description}</p>\r\n                    <p className={classes.info} >Ingredients : {serving?.ingredients}</p>\r\n                    {user.is_user ? (\r\n                        <div className={classes.btnDiv} >\r\n                            <div style={{ border: ' 0.5px solid lightgrey', padding: '10px', borderRadius: '10px' }} >\r\n                                <p className={classes.info} >Donate : </p>\r\n                                {dummyArray(10)}\r\n                                <Button color='secondary' variant='contained'\r\n                                    onClick={() => donateOrRequestServing('Donation')}\r\n                                    className={classes.btn} >Donate</Button>\r\n                            </div>\r\n                            <div style={{ border: ' 0.5px solid lightgrey', padding: '10px', borderRadius: '10px' }} >\r\n                                <p className={classes.info} >Request : </p>\r\n                                {dummyArray(4)}\r\n                                <Button color='primary' onClick={() => donateOrRequestServing('Request')}\r\n                                    className={classes.btn} variant='contained' >Request a Meal</Button>\r\n                            </div>\r\n                        </div>\r\n                    ) : null}\r\n\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default MealDetailsScreen\r\n"]},"metadata":{},"sourceType":"module"}