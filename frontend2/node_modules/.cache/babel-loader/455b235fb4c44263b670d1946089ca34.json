{"ast":null,"code":"var _jsxFileName = \"E:\\\\Full HTML\\\\Django-react\\\\foowoo\\\\frontend2\\\\src\\\\screens\\\\restaurant\\\\DonatorsList.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Button, Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport CustomContainer from '../../components/CustomContainer';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DonatorsList() {\n  _s();\n\n  const user = useSelector(state => state.user.userInfo);\n  const [donators, setDonators] = React.useState([]);\n  const [newdonators, setnewDonators] = React.useState([]);\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${user.token}`\n    }\n  };\n\n  async function donatorsListHandler(command) {\n    const {\n      data\n    } = await axios.get('http://127.0.0.1:8000/api/restaurant/donators-list/', config);\n    console.log(data);\n    setDonators(data);\n  }\n\n  React.useEffect(() => {\n    donatorsListHandler();\n  }, []);\n  const useStyles = makeStyles(theme => ({\n    text: { ...theme.typography.title,\n      flex: '0.35',\n      fontSize: '1.3rem'\n    },\n    container: {\n      width: '80%'\n    },\n    title: { ...theme.typography.content,\n      fontSize: '2.5rem',\n      textAlign: 'center'\n    },\n    btnLeft: {\n      poaition: 'relative',\n      marginRight: 'auto',\n      marginLeft: '20px'\n    }\n  }));\n  const classes = useStyles();\n\n  for (var i in donators) {\n    if ((newdonators === null || newdonators === void 0 ? void 0 : newdonators.length) >= 1) {\n      for (var j in newdonators) {\n        var _newdonators$j, _donators$i;\n\n        if (((_newdonators$j = newdonators[j]) === null || _newdonators$j === void 0 ? void 0 : _newdonators$j.username) == ((_donators$i = donators[i]) === null || _donators$i === void 0 ? void 0 : _donators$i.username)) {\n          newdonators[j].quantity += donators[i].quantity;\n        } else {\n          newdonators.push(donators[i]);\n        }\n      }\n    } else {\n      newdonators === null || newdonators === void 0 ? void 0 : newdonators.push(donators[i]);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: classes.title,\n      children: \"All DONATORS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.btnLeft,\n      variant: \"outlined\",\n      color: \"primary\",\n      component: Link,\n      to: \"rest/profile/2\",\n      children: \"GO BACK\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), newdonators.length <= 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"No donators\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 41\n    }, this) : newdonators === null || newdonators === void 0 ? void 0 : newdonators.map(item => {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        xs: 12,\n        justify: \"center\",\n        children: /*#__PURE__*/_jsxDEV(CustomContainer, {\n          style: {\n            width: '79vw',\n            paddingTop: '20px',\n            paddingBottom: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              width: '80%',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: '0.3'\n              },\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: [\"fas\", \"coffee\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: classes.text,\n              children: item.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: classes.text,\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DonatorsList, \"Il26GrJvkGjkBm3F2Ez0r0nL+eU=\", false, function () {\n  return [useSelector, useStyles];\n});\n\n_c = DonatorsList;\nexport default DonatorsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"DonatorsList\");","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/frontend2/src/screens/restaurant/DonatorsList.js"],"names":["axios","React","useSelector","Button","Grid","makeStyles","CustomContainer","FontAwesomeIcon","Link","DonatorsList","user","state","userInfo","donators","setDonators","useState","newdonators","setnewDonators","config","headers","Authorization","token","donatorsListHandler","command","data","get","console","log","useEffect","useStyles","theme","text","typography","title","flex","fontSize","container","width","content","textAlign","btnLeft","poaition","marginRight","marginLeft","classes","i","length","j","username","quantity","push","map","item","paddingTop","paddingBottom","display","alignItems"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Button, Grid } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport CustomContainer from '../../components/CustomContainer'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction DonatorsList() {\r\n    const user = useSelector(state => state.user.userInfo)\r\n    const [donators, setDonators] = React.useState([])\r\n    const [newdonators, setnewDonators] = React.useState([])\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${user.token}`\r\n        }\r\n    }\r\n    async function donatorsListHandler(command) {\r\n        const { data } = await axios.get('http://127.0.0.1:8000/api/restaurant/donators-list/', config)\r\n        console.log(data)\r\n        setDonators(data)\r\n    }\r\n    React.useEffect(() => {\r\n        donatorsListHandler()\r\n    }, [])\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        text: {\r\n            ...theme.typography.title,\r\n            flex: '0.35',\r\n            fontSize: '1.3rem'\r\n        },\r\n        container: {\r\n            width: '80%'\r\n        },\r\n        title: {\r\n            ...theme.typography.content,\r\n            fontSize: '2.5rem',\r\n            textAlign: 'center'\r\n        },\r\n        btnLeft: {\r\n            poaition: 'relative',\r\n            marginRight: 'auto',\r\n            marginLeft: '20px'\r\n        }\r\n    }))\r\n\r\n\r\n    const classes = useStyles()\r\n\r\n    for (var i in donators) {\r\n        if (newdonators?.length >= 1) {\r\n            for (var j in newdonators) {\r\n                if (newdonators[j]?.username == donators[i]?.username) {\r\n                    newdonators[j].quantity += donators[i].quantity\r\n                } else {\r\n                    newdonators.push(donators[i])\r\n                }\r\n            }\r\n        } else {\r\n            newdonators?.push(donators[i])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1 className={classes.title} >All DONATORS</h1>\r\n            <Button className={classes.btnLeft} variant='outlined'\r\n                color='primary' component={Link} to='rest/profile/2'  >GO BACK</Button>\r\n            {newdonators.length <= 0 ? (<h1>No donators</h1>) : newdonators?.map(item => {\r\n                return (\r\n                    <Grid container xs={12} justify='center' >\r\n                        <CustomContainer style={{\r\n                            width: '79vw',\r\n                            paddingTop: '20px',\r\n                            paddingBottom: '20px',\r\n                        }} >\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                width: '80%',\r\n                                alignItems: 'center'\r\n                            }} >\r\n                                <div style={{ flex: '0.3' }} >\r\n                                    <FontAwesomeIcon icon={[\"fas\", \"coffee\"]} />\r\n                                </div>\r\n                                <p className={classes.text} >{item.username}</p>\r\n                                <p className={classes.text} >{item.quantity}</p>\r\n                            </div>\r\n\r\n                        </CustomContainer>\r\n                    </Grid>\r\n                )\r\n\r\n            })}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DonatorsList\r\n"]},"metadata":{},"sourceType":"module"}