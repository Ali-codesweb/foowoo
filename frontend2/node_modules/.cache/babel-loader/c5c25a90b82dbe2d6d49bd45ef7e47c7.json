{"ast":null,"code":"import _objectSpread from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/Full HTML/Django-react/foowoo/backend/frontend2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{makeStyles}from'@material-ui/styles';import axios from'axios';import React from'react';import{useSelector}from'react-redux';import FormDiv from'../../components/FormDiv';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddNewServingScreen(props){// Name,description,ingredients,image,quantity,is_vegan\nvar _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),ingredients=_React$useState6[0],setIngredients=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),image=_React$useState8[0],setImage=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),quantity=_React$useState10[0],setQuantity=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),isVegan=_React$useState12[0],setIsVegan=_React$useState12[1];var user=useSelector(function(state){return state.user.userInfo;});var onChangeName=function onChangeName(e){setName(e.target.value);};var onChangeDescription=function onChangeDescription(e){setDescription(e.target.value);};var onChangeIngredients=function onChangeIngredients(e){setIngredients(e.target.value);};var onChangeImage=function onChangeImage(e){setImage(e.target.value);};var onChangeQuantity=function onChangeQuantity(e){setQuantity(e.target.value);};var onChangeIsVegan=function onChangeIsVegan(e){setIsVegan(!isVegan);};var createServing=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config,_axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(user.token)}};_axios$post=axios.post('https://foowoo1.herokuapp.com/api/restaurant/create-serving/',{name:name,description:description,ingredients:ingredients,image:image,quantity:quantity,is_vegan:isVegan},config),data=_axios$post.data;window.alert('You have successfullly craeted your serving');props.history.push('/rest/my-servings');case 4:case\"end\":return _context.stop();}}},_callee);}));return function createServing(){return _ref.apply(this,arguments);};}();var useStyles=makeStyles(function(theme){return{title:_objectSpread(_objectSpread({},theme.typography.content),{},{textAlign:'center',fontSize:'2.5rem',marginTop:'20px'})};});var classes=useStyles();var data=[{name:'Name',placeholder:'',value:name,onChange:onChangeName},{name:'Description',placeholder:'',value:description,onChange:onChangeDescription},{name:'Ingredients',placeholder:'',value:ingredients,onChange:onChangeIngredients},{name:'Quantity',placeholder:'',value:quantity,onChange:onChangeQuantity,type:'number'},{name:'Is Vegan',placeholder:'',value:isVegan,onChange:onChangeIsVegan,radio:'radio'},{name:'Image',placeholder:'',value:image,onChange:onChangeImage,type:'file'}];return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"p\",{className:classes.title,children:\"Add new Serving\"}),/*#__PURE__*/_jsx(FormDiv,{data:data,actionName:\"Create Serving\",actionTaken:createServing})]});}export default AddNewServingScreen;","map":{"version":3,"sources":["E:/Full HTML/Django-react/foowoo/backend/frontend2/src/screens/restaurant/AddNewServingScreen.js"],"names":["makeStyles","axios","React","useSelector","FormDiv","AddNewServingScreen","props","useState","name","setName","description","setDescription","ingredients","setIngredients","image","setImage","quantity","setQuantity","isVegan","setIsVegan","user","state","userInfo","onChangeName","e","target","value","onChangeDescription","onChangeIngredients","onChangeImage","onChangeQuantity","onChangeIsVegan","createServing","config","headers","Authorization","token","post","is_vegan","data","window","alert","history","push","useStyles","theme","title","typography","content","textAlign","fontSize","marginTop","classes","placeholder","onChange","type","radio","display","flexDirection","alignItems"],"mappings":"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","sourcesContent":["import { makeStyles } from '@material-ui/styles'\r\nimport axios from 'axios'\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport FormDiv from '../../components/FormDiv'\r\n\r\nfunction AddNewServingScreen(props) {\r\n    // Name,description,ingredients,image,quantity,is_vegan\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('')\r\n    const [ingredients, setIngredients] = React.useState('')\r\n    const [image, setImage] = React.useState('')\r\n    const [quantity, setQuantity] = React.useState('')\r\n    const [isVegan, setIsVegan] = React.useState(false)\r\n\r\n    const user = useSelector(state => state.user.userInfo)\r\n\r\n    const onChangeName = (e) => {\r\n        setName(e.target.value)\r\n    }\r\n    const onChangeDescription = (e) => {\r\n        setDescription(e.target.value)\r\n    }\r\n    const onChangeIngredients = (e) => {\r\n        setIngredients(e.target.value)\r\n    }\r\n    const onChangeImage = (e) => {\r\n        setImage(e.target.value)\r\n    }\r\n    const onChangeQuantity = (e) => {\r\n        setQuantity(e.target.value)\r\n    }\r\n    const onChangeIsVegan = (e) => {\r\n        setIsVegan(!isVegan)\r\n    }\r\n\r\n    const createServing = async () => {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${user.token}`\r\n            }\r\n        }\r\n        const { data } = axios.post('https://foowoo1.herokuapp.com/api/restaurant/create-serving/', {\r\n            name,\r\n            description,\r\n            ingredients,\r\n            image,\r\n            quantity,\r\n            is_vegan: isVegan\r\n        }, config)\r\n        window.alert('You have successfullly craeted your serving')\r\n        props.history.push('/rest/my-servings')\r\n    }\r\n\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        title: {\r\n            ...theme.typography.content,\r\n            textAlign: 'center',\r\n            fontSize: '2.5rem',\r\n            marginTop: '20px'\r\n        },\r\n    }))\r\n    const classes = useStyles()\r\n    const data = [{\r\n        name: 'Name',\r\n        placeholder: '',\r\n        value: name,\r\n        onChange: onChangeName\r\n    },\r\n    {\r\n        name: 'Description',\r\n        placeholder: '',\r\n        value: description,\r\n        onChange: onChangeDescription\r\n    },\r\n    {\r\n        name: 'Ingredients',\r\n        placeholder: '',\r\n        value: ingredients,\r\n        onChange: onChangeIngredients\r\n    },\r\n    {\r\n        name: 'Quantity',\r\n        placeholder: '',\r\n        value: quantity,\r\n        onChange: onChangeQuantity,\r\n        type: 'number',\r\n    },\r\n    {\r\n        name: 'Is Vegan',\r\n        placeholder: '',\r\n        value: isVegan,\r\n        onChange: onChangeIsVegan,\r\n        radio: 'radio'\r\n    },\r\n    {\r\n        name: 'Image',\r\n        placeholder: '',\r\n        value: image,\r\n        onChange: onChangeImage,\r\n        type: 'file'\r\n    },\r\n    ]\r\n\r\n    return (\r\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }} >\r\n            <p className={classes.title} >Add new Serving</p>\r\n\r\n            <FormDiv\r\n                data={data}\r\n                actionName='Create Serving'\r\n                actionTaken={createServing}\r\n            >\r\n            </FormDiv>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddNewServingScreen\r\n"]},"metadata":{},"sourceType":"module"}